___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Cookie Consent",
  "brand": {
    "id": "68publishers",
    "displayName": "\u002768 Publishers \u0026 D-facto",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Support at info@dfacto.ch\nCookie Consent · See documentation at https://github.com/68publishers/cookie-consent",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "package_version",
    "displayName": "Package version",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^latest$|^([\\d]{1}\\.[\\d]{1}\\.[\\d]{1})(?:(\\-beta|\\-alpha)\\.[\\d]+)?$"
        ]
      }
    ],
    "help": "The version of CookieConsentWrapper package. Must be a valid version in a format \u003ccode\u003ex.x.x\u003c/code\u003e or string \u003ccode\u003elates\u003c/code\u003e.",
    "defaultValue": "latest"
  },
  {
    "type": "TEXT",
    "name": "cc_script_url",
    "displayName": "Cookie Consent Script url",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^https?://(.*)$"
        ]
      }
    ],
    "help": "The full url to the cookie consent script if you want to use your own cookie consent script",
    "defaultValue": ""
  },
  {
    "type": "CHECKBOX",
    "name": "force_consent",
    "checkboxText": "Make consent required",
    "simpleValueType": true,
    "defaultValue": false,
    "help": "Block page until action"
  },
  {
    "type": "CHECKBOX",
    "name": "autorun",
    "checkboxText": "Show the widget as soon as possible",
    "simpleValueType": true,
    "defaultValue": true,
    "help": "You need to manually call the CookieConsentWrapper.unwrap().show() method if you disable the option."
  },
  {
    "type": "CHECKBOX",
    "name": "init_after_dom_content_loaded",
    "checkboxText": "Init widget after DOMContentLoaded",
    "simpleValueType": true,
    "help": "The widget is initialized as soon as possible by default. If the option is enabled, initialization will wait until the DOMContentLoaded event.",
    "defaultValue": false
  },
  {
    "type": "CHECKBOX",
    "name": "hide_from_bots",
    "checkboxText": "Hide from bots",
    "simpleValueType": true,
    "defaultValue": false,
    "help": "Enable if you don\u0027t want the plugin to run when a bot/crawler/webdriver is detected."
  },
  {
    "type": "TEXT",
    "name": "revision",
    "displayName": "Revision",
    "simpleValueType": true,
    "valueHint": "Increment when new revision is required.",
    "defaultValue": 0,
    "valueValidators": [
      {
        "type": "NON_NEGATIVE_NUMBER"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "delay",
    "displayName": "Delay",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_NEGATIVE_NUMBER"
      }
    ],
    "defaultValue": 500,
    "valueUnit": "ms"
  },
  {
    "type": "GROUP",
    "name": "consent_modal_options",
    "displayName": "Consent modal options",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "consent_modal_layout",
        "displayName": "Layout",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "box",
            "displayValue": "box"
          },
          {
            "value": "cloud",
            "displayValue": "cloud"
          },
          {
            "value": "bar",
            "displayValue": "bar"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "box",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "consent_modal_position",
        "displayName": "Position",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "bottom left",
            "displayValue": "bottom - left"
          },
          {
            "value": "bottom right",
            "displayValue": "bottom - right"
          },
          {
            "value": "bottom center",
            "displayValue": "bottom - center"
          },
          {
            "value": "middle left",
            "displayValue": "middle - left"
          },
          {
            "value": "middle right",
            "displayValue": "middle - right"
          },
          {
            "value": "middle center",
            "displayValue": "middle - center"
          },
          {
            "value": "top left",
            "displayValue": "top - left"
          },
          {
            "value": "top right",
            "displayValue": "top - right"
          },
          {
            "value": "top center",
            "displayValue": "top - center"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "bottom center",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "consent_modal_transition",
        "displayName": "Transition",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "zoom",
            "displayValue": "zoom"
          },
          {
            "value": "slide",
            "displayValue": "slide"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "zoom",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "consent_modal_primary_button_role",
        "displayName": "Primary button role",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "accept_all",
            "displayValue": "Accept all"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "accept_all"
      },
      {
        "type": "SELECT",
        "name": "consent_modal_secondary_button_role",
        "displayName": "Secondary button role",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "settings",
            "displayValue": "Open settings"
          },
          {
            "value": "accept_necessary",
            "displayValue": "Accept necessary"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "settings"
      },
      {
        "type": "SELECT",
        "name": "consent_modal_buttons_order",
        "displayName": "Buttons order",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "primary_secondary",
            "displayValue": "Primary - Secondary"
          },
          {
            "value": "secondary_primary",
            "displayValue": "Secondary - Primary"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "primary_secondary"
      },
      {
        "type": "CHECKBOX",
        "name": "consent_modal_show_third_button",
        "checkboxText": "Show third button",
        "simpleValueType": true,
        "defaultValue": false,
        "help": "Adds the third button to the consent modal. If the secondary button\u0027s role is \"Open settings\" the third button\u0027s role is \"Accept necessary\" and vice versa."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "settings_modal_options",
    "displayName": "Settings modal options",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "settings_modal_layout",
        "displayName": "Layout",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "box",
            "displayValue": "box"
          },
          {
            "value": "bar",
            "displayValue": "bar"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "box"
      },
      {
        "type": "SELECT",
        "name": "settings_modal_position",
        "displayName": "Position",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "left",
            "displayValue": "left"
          },
          {
            "value": "right",
            "displayValue": "right"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "left",
        "help": "The position is applied only if the layout is set to \u003ccode\u003ebar\u003c/code\u003e."
      },
      {
        "type": "SELECT",
        "name": "settings_modal_transition",
        "displayName": "Transition",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "zoom",
            "displayValue": "zoom"
          },
          {
            "value": "slide",
            "displayValue": "slide"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "zoom"
      },
      {
        "type": "TEXT",
        "name": "modal_trigger_selector",
        "displayName": "Settings modal trigger selector",
        "simpleValueType": true,
        "help": "CSS selector that matches some element on your website. The element will be cloned and modified as a button that opens the cookie settings modal.\nThe option is ignored if the value is empty."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "cookies_options",
    "displayName": "Cookies options",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "cookie_name",
        "displayName": "Cookie name",
        "simpleValueType": true,
        "defaultValue": "cc-settings",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "The name of a cookie value that holds information about the user\u0027s consent."
      },
      {
        "type": "TEXT",
        "name": "cookie_domain",
        "displayName": "Cookie domain",
        "simpleValueType": true,
        "help": "The domain name for the cookie that holds information about the user\u0027s consent, for example \".example.com\". \n\nIf the value is empty, it is automatically set in a browser using the \u003ccode\u003ewindow.location.hostname\u003c/code\u003e variable."
      },
      {
        "type": "TEXT",
        "name": "cookie_expiration",
        "displayName": "Cookie expiration",
        "simpleValueType": true,
        "defaultValue": 182,
        "valueUnit": "days",
        "valueValidators": [
          {
            "type": "POSITIVE_NUMBER"
          }
        ],
        "help": "How many days will be a cookie value valid."
      },
      {
        "type": "CHECKBOX",
        "name": "auto_clear_enabled",
        "checkboxText": "Enable cookies auto-clear",
        "simpleValueType": true,
        "defaultValue": false,
        "help": "All cookies will be deleted based on the user\u0027s consent and a selected strategy if the option is enabled."
      },
      {
        "type": "SELECT",
        "name": "auto_clear_strategy",
        "displayName": "Cookies auto-clear strategy",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "clear_all_except_defined",
            "displayValue": "Clear all except defined"
          },
          {
            "value": "clear_defined_only",
            "displayValue": "Clear defined only"
          },
          {
            "value": "cookie_tables",
            "displayValue": "Use cookie tables"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "clear_all_except_defined",
        "enablingConditions": [
          {
            "paramName": "auto_clear_enabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "subParams": [
          {
            "type": "LABEL",
            "name": "label_clear_all_except_defined",
            "displayName": "All cookies except those you define below will be deleted when the user denies any storage.",
            "enablingConditions": [
              {
                "paramName": "auto_clear_strategy",
                "paramValue": "clear_all_except_defined",
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "LABEL",
            "name": "label_clear_defined_only",
            "displayName": "All cookies you defined below will be deleted when the user denies any storage.",
            "enablingConditions": [
              {
                "paramName": "auto_clear_strategy",
                "paramValue": "clear_defined_only",
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "LABEL",
            "name": "label_cookie_tables",
            "displayName": "Cookies for deletion are defined by cookie tables for each storage. The CMP application must be integrated for this strategy to work properly",
            "enablingConditions": [
              {
                "paramName": "auto_clear_strategy",
                "paramValue": "cookie_tables",
                "type": "EQUALS"
              }
            ]
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "auto_clear_cookie_names",
        "displayName": "Cookie names",
        "simpleValueType": true,
        "textAsList": true,
        "enablingConditions": [
          {
            "paramName": "auto_clear_strategy",
            "paramValue": "clear_all_except_defined",
            "type": "EQUALS"
          },
          {
            "paramName": "auto_clear_strategy",
            "paramValue": "clear_defined_only",
            "type": "EQUALS"
          }
        ],
        "help": "One name per line.",
        "lineCount": 3
      },
      {
        "type": "CHECKBOX",
        "name": "use_rfc_cookie",
        "checkboxText": "Use RFC cookie",
        "simpleValueType": true,
        "defaultValue": false,
        "help": "The cookie value will be encoded using the \u003ccode\u003eencodeURIComponent\u003c/code\u003e function (so the cookie value will be RFC compliant) if the option is enabled. Otherwise, the cookie will contain plain JSON."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "functionality_storage",
    "displayName": "Functionality storage",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "functionality_storage_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_readonly_enabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "functionality_storage_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "functionality_storage_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "functionality_storage_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "functionality_storage_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "functionality_storage_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "functionality_storage_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_functionality_storage",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "security_storage",
    "displayName": "Security storage",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "security_storage_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "security_storage_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "security_storage_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "security_storage_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "security_storage_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "security_storage_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "security_storage_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_security_storage",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "personalization_storage",
    "displayName": "Personalization storage",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "personalization_storage_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "personalization_storage_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "personalization_storage_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "personalization_storage_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "personalization_storage_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "personalization_storage_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "personalization_storage_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_personalization_storage",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ad_storage",
    "displayName": "Ad storage",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "ad_storage_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "ad_storage_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "ad_storage_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "ad_storage_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "ad_storage_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "ad_storage_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ad_storage_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_ad_storage",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ad_user_data",
    "displayName": "Ad user data",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "ad_user_data_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "ad_user_data_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "ad_user_data_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "ad_user_data_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "ad_user_data_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "ad_user_data_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ad_user_data_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_ad_user_data",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ad_personalization",
    "displayName": "Ad personalization",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "ad_personalization_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "ad_personalization_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "analytics_storage",
                "displayValue": "Analytics storage"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "ad_personalization_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "ad_personalization_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "ad_personalization_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "ad_personalization_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ad_personalization_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_ad_personalization",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "analytics_storage",
    "displayName": "Analytics storage",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "analytics_storage_visibility",
        "displayName": "Visibility and default state",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "visible_enabled",
            "displayValue": "Visible, Enabled by default"
          },
          {
            "value": "visible_readonly_enabled",
            "displayValue": "Visible \u0026 Readonly, Enabled by default"
          },
          {
            "value": "visible_disabled",
            "displayValue": "Visible, Disabled by default"
          },
          {
            "value": "hidden_synchronized",
            "displayValue": "Hidden, Synchronized"
          },
          {
            "value": "hidden_disabled",
            "displayValue": "Hidden, Disabled always"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "visible_disabled",
        "subParams": [
          {
            "type": "SELECT",
            "name": "analytics_storage_sync_consent_with",
            "displayName": "Synchronize consent with",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": "functionality_storage",
                "displayValue": "Functionality storage"
              },
              {
                "value": "security_storage",
                "displayValue": "Security storage"
              },
              {
                "value": "personalization_storage",
                "displayValue": "Personalization storage"
              },
              {
                "value": "ad_storage",
                "displayValue": "Ad storage"
              },
              {
                "value": "ad_user_data",
                "displayValue": "Ad user data"
              },
              {
                "value": "ad_personalization",
                "displayValue": "Ad personalization"
              }
            ],
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "analytics_storage_visibility",
                "paramValue": "hidden_synchronized",
                "type": "EQUALS"
              }
            ],
            "notSetText": "None",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "analytics_storage_show_again_expiration",
            "displayName": "If the storage is denied show the modal again after",
            "simpleValueType": true,
            "defaultValue": 0,
            "enablingConditions": [
              {
                "paramName": "analytics_storage_visibility",
                "paramValue": "visible_enabled",
                "type": "EQUALS"
              },
              {
                "paramName": "analytics_storage_visibility",
                "paramValue": "visible_disabled",
                "type": "EQUALS"
              }
            ],
            "valueUnit": "days",
            "valueValidators": [
              {
                "type": "NON_NEGATIVE_NUMBER"
              }
            ],
            "help": "Set the value to 0 if you want to disable the feature."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "analytics_storage_event_trigger",
        "displayName": "Event trigger name",
        "simpleValueType": true,
        "defaultValue": "68publishers_analytics_storage",
        "help": "The name of a trigger that will be invoked on after a consent."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "composite_consent",
    "displayName": "Composite consent",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "PARAM_TABLE",
        "name": "composite_consent_event_triggers",
        "displayName": "Event triggers",
        "paramTableColumns": [
          {
            "param": {
              "type": "TEXT",
              "name": "name",
              "displayName": "Trigger name",
              "simpleValueType": true,
              "valueValidators": [
                {
                  "type": "NON_EMPTY"
                }
              ]
            },
            "isUnique": true
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "functionality_storage",
              "checkboxText": "Functionality storage",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "security_storage",
              "checkboxText": "Security storage",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "personalization_storage",
              "checkboxText": "Personalization storage",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "ad_storage",
              "checkboxText": "Ad storage",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "ad_user_data",
              "checkboxText": "Ad user data",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "ad_personalization",
              "checkboxText": "Ad personalization",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "analytics_storage",
              "checkboxText": "Analytics Storage",
              "simpleValueType": true
            },
            "isUnique": false
          }
        ],
        "help": "If you need to invoke some trigger only if the user makes consent with more storage types together then define the trigger here.",
        "newRowTitle": "New event trigger",
        "newRowButtonText": "Add event trigger",
        "editRowTitle": "Edit event trigger"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "translation_settings",
    "displayName": "Translation settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "locales",
        "displayName": "Locales",
        "simpleValueType": true,
        "defaultValue": "en",
        "textAsList": true,
        "lineCount": 4,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "One locale per line. Alternatively, the URL from which the translations are to be downloaded can also be entered.\nFor example, \u003cstrong\u003ehttps://www.example.com/cc-translations/en.json\u003c/strong\u003e will download the file as an \u003cstrong\u003een\u003c/strong\u003e dictionary."
      },
      {
        "type": "SELECT",
        "name": "locale_detection_strategy",
        "displayName": "Locale detection strategy",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "browser",
            "displayValue": "Browser"
          },
          {
            "value": "document",
            "displayValue": "Document"
          },
          {
            "value": "disabled",
            "displayValue": "Disabled"
          }
        ],
        "simpleValueType": true,
        "help": "\"Browser\" to get user\u0027s browser language or \"Document\" to read value from \u0026lt;html lang\u003d\"...\"\u0026gt; of current page.",
        "defaultValue": "document"
      },
      {
        "type": "TEXT",
        "name": "current_locale",
        "displayName": "Locale",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY",
            "enablingConditions": []
          }
        ],
        "help": "You must define the website locale when the detection strategy is disabled. The locale must be one of the previously defined locales.",
        "enablingConditions": [
          {
            "paramName": "locale_detection_strategy",
            "paramValue": "disabled",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "PARAM_TABLE",
        "name": "translations",
        "displayName": "Translations",
        "paramTableColumns": [
          {
            "param": {
              "type": "TEXT",
              "name": "locale",
              "displayName": "Locale",
              "simpleValueType": true,
              "valueValidators": [
                {
                  "type": "NON_EMPTY"
                }
              ]
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "key",
              "displayName": "Key",
              "macrosInSelect": false,
              "selectItems": [
                {
                  "value": "consent_modal_title",
                  "displayValue": "consent_modal_title"
                },
                {
                  "value": "consent_modal_description",
                  "displayValue": "consent_modal_description"
                },
                {
                  "value": "consent_modal_primary_btn",
                  "displayValue": "consent_modal_primary_btn"
                },
                {
                  "value": "settings_modal_title",
                  "displayValue": "settings_modal_title"
                },
                {
                  "value": "settings_modal_save_settings_btn",
                  "displayValue": "settings_modal_save_settings_btn"
                },
                {
                  "value": "settings_modal_accept_all_btn",
                  "displayValue": "settings_modal_accept_all_btn"
                },
                {
                  "value": "settings_modal_reject_all_btn",
                  "displayValue": "settings_modal_reject_all_btn"
                },
                {
                  "value": "settings_modal_close_btn_label",
                  "displayValue": "settings_modal_close_btn_label"
                },
                {
                  "value": "settings_modal_before_consent_title",
                  "displayValue": "settings_modal_before_consent_title"
                },
                {
                  "value": "settings_modal_before_consent_description",
                  "displayValue": "settings_modal_before_consent_description"
                },
                {
                  "value": "settings_modal_after_consent_title",
                  "displayValue": "settings_modal_after_consent_title"
                },
                {
                  "value": "settings_modal_after_consent_description",
                  "displayValue": "settings_modal_after_consent_description"
                },
                {
                  "value": "functionality_storage_title",
                  "displayValue": "functionality_storage_title"
                },
                {
                  "value": "functionality_storage_description",
                  "displayValue": "functionality_storage_description"
                },
                {
                  "value": "personalization_storage_title",
                  "displayValue": "personalization_storage_title"
                },
                {
                  "value": "personalization_storage_description",
                  "displayValue": "personalization_storage_description"
                },
                {
                  "value": "security_storage_title",
                  "displayValue": "security_storage_title"
                },
                {
                  "value": "security_storage_description",
                  "displayValue": "security_storage_description"
                },
                {
                  "value": "ad_storage_title",
                  "displayValue": "ad_storage_title"
                },
                {
                  "value": "ad_storage_description",
                  "displayValue": "ad_storage_description"
                },
                {
                  "value": "analytics_storage_title",
                  "displayValue": "analytics_storage_title"
                },
                {
                  "value": "analytics_storage_description",
                  "displayValue": "analytics_storage_description"
                },
                {
                  "value": "consent_modal_revision_message",
                  "displayValue": "consent_modal_revision_message"
                },
                {
                  "value": "modal_trigger_title",
                  "displayValue": "modal_trigger_title"
                },
                {
                  "value": "consent_modal_secondary_btn_settings",
                  "displayValue": "consent_modal_secondary_btn_settings"
                },
                {
                  "value": "consent_modal_secondary_btn_accept_necessary",
                  "displayValue": "consent_modal_secondary_btn_accept_necessary"
                },
                {
                  "value": "cookie_table_col_name",
                  "displayValue": "cookie_table_col_name"
                },
                {
                  "value": "cookie_table_col_purpose",
                  "displayValue": "cookie_table_col_purpose"
                },
                {
                  "value": "cookie_table_col_processing_time",
                  "displayValue": "cookie_table_col_processing_time"
                },
                {
                  "value": "cookie_table_col_provider",
                  "displayValue": "cookie_table_col_provider"
                },
                {
                  "value": "cookie_table_col_type",
                  "displayValue": "cookie_table_col_type"
                },
                {
                  "value": "cookie_table_col_link",
                  "displayValue": "cookie_table_col_link"
                },
                {
                  "value": "cookie_table_col_link_find_out_more",
                  "displayValue": "cookie_table_col_link_find_out_more"
                },
                {
                  "value": "cookie_table_col_category",
                  "displayValue": "cookie_table_col_category"
                },
                {
                  "value": "processing_time_session",
                  "displayValue": "processing_time_session"
                },
                {
                  "value": "processing_time_persistent",
                  "displayValue": "processing_time_persistent"
                },
                {
                  "value": "cookie_type_1st_party",
                  "displayValue": "cookie_type_1st_party"
                },
                {
                  "value": "cookie_type_3rd_party",
                  "displayValue": "cookie_type_3rd_party"
                },
                {
                  "value": "find_out_more",
                  "displayValue": "find_out_more"
                },
                {
                  "value": "ad_user_data_title",
                  "displayValue": "ad_user_data_title"
                },
                {
                  "value": "ad_user_data_description",
                  "displayValue": "ad_user_data_description"
                },
                {
                  "value": "ad_personalization_title",
                  "displayValue": "ad_personalization_title"
                },
                {
                  "value": "ad_personalization_description",
                  "displayValue": "ad_personalization_description"
                }
              ],
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "TEXT",
              "name": "value",
              "displayName": "Translation",
              "simpleValueType": true,
              "lineCount": 2
            },
            "isUnique": false
          }
        ],
        "help": "Here you can rewrite default translations that are defined inside the widget.",
        "newRowButtonText": "Add translation",
        "editRowTitle": "Edit translation",
        "newRowTitle": "New translation"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "stylesheets_group",
    "displayName": "Stylesheets",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "include_default_stylesheets",
        "checkboxText": "Include default stylesheets",
        "simpleValueType": true,
        "defaultValue": true
      },
      {
        "type": "TEXT",
        "name": "external_stylesheets",
        "displayName": "External stylesheets",
        "simpleValueType": true,
        "textAsList": true,
        "lineCount": 2,
        "valueValidators": [
          {
            "type": "REGEX",
            "args": [
              "https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#\u003d]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?\u0026//\u003d]*)"
            ]
          }
        ],
        "help": "One URL per line."
      },
      {
        "type": "TEXT",
        "name": "internal_stylesheets",
        "displayName": "Internal stylesheet",
        "simpleValueType": true,
        "help": "CSS rules without \u0026lt;style\u0026gt;\u0026lt;/style\u0026gt; tags.",
        "lineCount": 2
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "scripts_group",
    "displayName": "Page scripts",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "page_scripts",
        "checkboxText": "Manage page scripts",
        "simpleValueType": true,
        "defaultValue": false,
        "help": "Enable if you want to easily manage existing \u0026lt;script\u0026gt; tags."
      },
      {
        "type": "TEXT",
        "name": "script_selector",
        "displayName": "Script selector",
        "simpleValueType": true,
        "defaultValue": "data-cookiecategory",
        "valueValidators": [
          {
            "type": "REGEX",
            "args": [
              "^data-.+$"
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "page_scripts",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "The name of a data attribute that is used for managed \u0026lt;script\u0026gt; tags."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "integration",
    "displayName": "Integration",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "GROUP",
        "name": "user",
        "displayName": "User",
        "groupStyle": "ZIPPY_OPEN",
        "subParams": [
          {
            "type": "SELECT",
            "name": "user_identity",
            "displayName": "Identity",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "default",
                "displayValue": "Generated UUID"
              }
            ],
            "simpleValueType": true,
            "help": "Identities for users are by default automatically generated UUIDs that are stored in a browser\u0027s local storage. You can set a custom variable from the container, but the default strategy will be used anyway if the variable contains an empty value.",
            "defaultValue": "default"
          },
          {
            "type": "PARAM_TABLE",
            "name": "user_attributes",
            "displayName": "Attributes",
            "paramTableColumns": [
              {
                "param": {
                  "type": "TEXT",
                  "name": "name",
                  "displayName": "Name",
                  "simpleValueType": true
                },
                "isUnique": true
              },
              {
                "param": {
                  "type": "TEXT",
                  "name": "value",
                  "displayName": "Value",
                  "simpleValueType": true
                },
                "isUnique": false
              }
            ]
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "cmp_api",
        "displayName": "CMP API",
        "groupStyle": "ZIPPY_OPEN",
        "subParams": [
          {
            "type": "CHECKBOX",
            "name": "cmp_api_enabled",
            "checkboxText": "Enabled",
            "simpleValueType": true,
            "defaultValue": false
          },
          {
            "type": "TEXT",
            "name": "cmp_api_host",
            "displayName": "URL",
            "simpleValueType": true,
            "help": "The URL of your CMP application, just hostname like \"https://www.domain.com\" without path, etc.",
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ],
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "SELECT",
            "name": "cmp_api_version",
            "displayName": "API Version",
            "macrosInSelect": false,
            "selectItems": [
              {
                "value": 1,
                "displayValue": "v1"
              }
            ],
            "simpleValueType": true,
            "defaultValue": 1,
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "cmp_api_project",
            "displayName": "Project code (optional)",
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ],
            "help": "The website domain will be used as the project code if the field is not filled."
          },
          {
            "type": "CHECKBOX",
            "name": "cmp_api_default_environment",
            "checkboxText": "Default environment",
            "simpleValueType": true,
            "defaultValue": true,
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "TEXT",
            "name": "cmp_api_environment_code",
            "displayName": "Environment code",
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "cmp_api_default_environment",
                "paramValue": false,
                "type": "EQUALS"
              }
            ],
            "help": "Environment code from the CMP. A GTM variable that returns string or null (default environment) can be used.",
            "valueValidators": [
              {
                "type": "NON_EMPTY",
                "enablingConditions": [
                  {
                    "paramName": "cmp_api_default_environment",
                    "paramValue": false,
                    "type": "EQUALS"
                  }
                ]
              }
            ]
          },
          {
            "type": "CHECKBOX",
            "name": "cmp_api_consent_api_enabled",
            "checkboxText": "Consent API enabled",
            "simpleValueType": true,
            "defaultValue": true,
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ],
            "help": "Consents are sent into the CMP is the option is checked."
          },
          {
            "type": "CHECKBOX",
            "name": "cmp_api_cookies_api_enabled",
            "checkboxText": "Cookies API enabled",
            "simpleValueType": true,
            "defaultValue": true,
            "enablingConditions": [
              {
                "paramName": "cmp_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ],
            "help": "Cookie tables in the widget are automatically created if the option is checked."
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "cmp_api_cookie_table_headers",
            "displayName": "Cookie table headers",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "",
                "name": "name",
                "type": "SELECT",
                "selectItems": [
                  {
                    "value": "purpose",
                    "displayValue": "Description"
                  },
                  {
                    "value": "processing_time",
                    "displayValue": "Expiration"
                  },
                  {
                    "value": "type",
                    "displayValue": "Type (1st party or 3rd party)"
                  },
                  {
                    "value": "link",
                    "displayValue": "Link"
                  },
                  {
                    "value": "link_find_out_more",
                    "displayValue": "Link (find out more)"
                  },
                  {
                    "value": "provider",
                    "displayValue": "Provider"
                  },
                  {
                    "value": "category",
                    "displayValue": "Category"
                  }
                ]
              }
            ],
            "enablingConditions": [
              {
                "paramName": "cmp_api_cookies_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "LABEL",
            "name": "cmp_api_cookie_table_headers_label",
            "displayName": "Header \"name\" is always automatically as first so it\u0027s not user-defined.",
            "enablingConditions": [
              {
                "paramName": "cmp_api_cookies_api_enabled",
                "paramValue": true,
                "type": "EQUALS"
              }
            ]
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

/**
 * Cookie Consent
 * Developed by '68 Publishers s.r.o. · http://68publishers.io
 * See documentation at https://github.com/68publishers/cookie-consent
 */
const log = require('logToConsole');
const setDefaultConsentState = require('setDefaultConsentState');
const createArgumentsQueue = require('createArgumentsQueue');
const queryPermission = require('queryPermission');
const getCookieValues = require('getCookieValues');
const injectScript = require('injectScript');
const setInWindow = require('setInWindow');
const callInWindow = require('callInWindow');
const JSON = require('JSON');
const Object = require('Object');
const makeInteger = require('makeInteger');

log('data =', data);

// create gtag
const gtag = createArgumentsQueue('gtag', 'dataLayer');

// create temporary wrapper in the window
const temporaryWrapper = (function () {
  const events = [];

  return {
    on: function (event, callback, scope) {
      events.push([event, callback, scope || null]);

      return function () {
      };
    },
    getEvents: function () {
      return events;
    }
  };
})();

setInWindow('CookieConsentWrapper', temporaryWrapper, false);

// parse consents from cookies, values are automatically decoded using decodeURIComponent function if the second argument is true
let consentCookie = getCookieValues(data.cookie_name, true)[0] || null;

if (null !== consentCookie) {
  consentCookie = JSON.parse(consentCookie);
  consentCookie = consentCookie && consentCookie.hasOwnProperty('categories') && consentCookie.categories.length ? consentCookie.categories : [];
}

// build storage pool & event triggers
const storagePool = {};
const eventTriggers = {};
const storageNames = ['functionality_storage', 'security_storage', 'personalization_storage', 'ad_storage', 'ad_user_data', 'ad_personalization', 'analytics_storage'];

const VisibilityMap = {
  visibleEnabled: 'visible_enabled',
  visibleReadonlyEnabled: 'visible_readonly_enabled',
  visibleDisabled: 'visible_disabled',
  hiddenSynchronized: 'hidden_synchronized',
  hiddenDisabled: 'hidden_disabled',
};

const VisibilityResolver = {
  isEnabledByDefault: v => {
    return -1 !== [VisibilityMap.visibleEnabled, VisibilityMap.visibleReadonlyEnabled].indexOf(v);
  },
  isDisplayInWidget: v => {
    return -1 !== [VisibilityMap.visibleEnabled, VisibilityMap.visibleReadonlyEnabled, VisibilityMap.visibleDisabled].indexOf(v);
  },
  isReadonly: v => {
    return VisibilityMap.visibleReadonlyEnabled === v;
  },
  canSynchronizeConsent: v => {
    return VisibilityMap.hiddenSynchronized === v;
  },
  canShowModalAgain: v => {
    return -1 !== [VisibilityMap.visibleEnabled, VisibilityMap.visibleDisabled].indexOf(v);
  },
};

for (let key in storageNames) {
  const storageName = storageNames[key];
  const visibility = data[storageName + '_visibility'];
  const eventTriggerName = data[storageName + '_event_trigger'];
  const syncConsentWith = VisibilityResolver.canSynchronizeConsent(visibility) ? data[storageName + '_sync_consent_with'] : undefined;
  const showModalAgainExpiration = VisibilityResolver.canShowModalAgain(visibility) ? data[storageName + '_show_again_expiration'] : undefined;

  // build storage config
  const storage = {
    name: storageName,
    enabled_by_default: VisibilityResolver.isEnabledByDefault(visibility),
    display_in_widget: VisibilityResolver.isDisplayInWidget(visibility),
    readonly: VisibilityResolver.isReadonly(visibility),
  };

  if (syncConsentWith) {
    storage.sync_consent_with = syncConsentWith;
  }

  if (showModalAgainExpiration) {
    storage.show_modal_again_expiration = makeInteger(showModalAgainExpiration);
  }

  // push into the pool
  storagePool[storage.name] = storage;


  // push new trigger or update existing
  if (eventTriggerName && '' !== eventTriggerName) {
    if (eventTriggers.hasOwnProperty(eventTriggerName)) {
      eventTriggers[eventTriggerName].storage_names.push(storage.name);
    } else {
      eventTriggers[eventTriggerName] = {
        name: eventTriggerName,
        storage_names: [storage.name],
        type: 'or'
      };
    }
  }
}

// process composite triggers
for (let key in data.composite_consent_event_triggers || []) {
  const compositeEventTrigger = data.composite_consent_event_triggers[key];

  // check duplicated trigger name
  if (eventTriggers.hasOwnProperty(compositeEventTrigger.name)) {
    log('Error: Composite event trigger "' + compositeEventTrigger.name + '" defined but some trigger with same name is also defined as a storage trigger.');
    data.gtmOnFailure();

    continue;
  }

  // get array of storage names that are needed for triggering of an event
  const compositeEventTriggerStorageNames = [];

  for (let storageKey in storageNames) {
    const storageName = storageNames[storageKey];

    if (compositeEventTrigger.hasOwnProperty(storageName) && compositeEventTrigger[storageName]) {
      compositeEventTriggerStorageNames.push(storageName);
    }
  }

  // append new composite trigger
  if (0 < compositeEventTriggerStorageNames.length) {
    eventTriggers[compositeEventTrigger.name] = {
      name: compositeEventTrigger.name,
      storage_names: compositeEventTriggerStorageNames,
      type: 'and'
    };
  }
}

const defaultConsents = {};
const acceptedStorageNames = [];

// setup default consent & invoke event triggers for accepted storages
for (let key in storagePool) {
  const storage = storagePool[key];

  let defaultStorageConsent = ((null === consentCookie && storage.enabled_by_default) || (null !== consentCookie && -1 !== consentCookie.indexOf(storage.name))) ? 'granted' : 'denied';


  // if consent is denied then check "sync_consent_with" property
  if ('denied' === defaultStorageConsent && storage.hasOwnProperty('sync_consent_with') && storagePool.hasOwnProperty(storage.sync_consent_with)) {
    const delegatedStorage = storagePool[storage.sync_consent_with];

    defaultStorageConsent = ((null === consentCookie && delegatedStorage.enabled_by_default) || (null !== consentCookie && -1 !== consentCookie.indexOf(delegatedStorage.name))) ? 'granted' : 'denied';

  }

  defaultConsents[storage.name] = defaultStorageConsent;

  if ('granted' === defaultStorageConsent) {
    acceptedStorageNames.push(storage.name);
  }
}

// setup default consents
setDefaultConsentState(defaultConsents);

// fire event triggers for granted consents
for (let eventTriggerKey in eventTriggers) {
  const eventTrigger = eventTriggers[eventTriggerKey];
  let invoke = false;

  // check needed consents
  for (let storageKey in eventTrigger.storage_names) {
    invoke = -1 !== acceptedStorageNames.indexOf(eventTrigger.storage_names[storageKey]);

    if ((invoke && 'or' === eventTrigger.type) || (!invoke && 'and' === eventTrigger.type)) {
      break;
    }
  }

  // fire a trigger and remove the trigger from widget's triggers
  if (invoke) {
    gtag('event', eventTrigger.name, {});
    Object.delete(eventTriggers, eventTriggerKey);

    log('EventTrigger "' + eventTrigger.name + '" invoked with the default consent.');
  }
}

// build custom translations
const translationsData = data.translations || [];
const translations = {};
let translationKey;
let translation;

for (translationKey in translationsData) {
  translation = translationsData[translationKey];

  if (!translations.hasOwnProperty(translation.locale)) {
    translations[translation.locale] = {};
  }

  translations[translation.locale][translation.key] = translation.value;
}

// build user attributes
const userAttributesData = data.user_attributes || [];
const userAttributes = {};
let userAttributeKey;
let userAttribute;

for (userAttributeKey in userAttributesData) {
  userAttribute = userAttributesData[userAttributeKey];
  userAttributes[userAttribute.name] = userAttribute.value;
}

// create plugin options
const pluginOptions = {
  force_consent: data.force_consent,
  autorun: data.autorun,
  init_after_dom_content_loaded: data.init_after_dom_content_loaded,
  hide_from_bots: data.hide_from_bots,
  cookie_name: data.cookie_name,
  cookie_expiration: makeInteger(data.cookie_expiration),
  revision: makeInteger(data.revision),
  delay: makeInteger(data.delay),
  auto_language: 'disabled' !== data.locale_detection_strategy ? data.locale_detection_strategy : null,
  page_scripts: data.page_scripts,
  use_rfc_cookie: data.use_rfc_cookie
};

if (data.hasOwnProperty('current_locale')) {
  pluginOptions.current_lang = data.current_locale;
}

if (data.hasOwnProperty('script_selector')) {
  pluginOptions.script_selector = data.script_selector;
}

if (data.hasOwnProperty('cookie_domain') && '' !== data.cookie_domain) {
  pluginOptions.cookie_domain = data.cookie_domain;
}

// create auto-clear options
const autoClearOptions = {
  enabled: data.auto_clear_enabled
};

if (data.auto_clear_enabled) {
  autoClearOptions.strategy = data.auto_clear_strategy;
  autoClearOptions.cookie_names = data.auto_clear_cookie_names || [];
}

const cookieTableHeaders = [];

if (data.cmp_api_enabled && data.cmp_api_cookies_api_enabled) {
  cookieTableHeaders.push('name');

  for (let i in data.cmp_api_cookie_table_headers) {
    cookieTableHeaders.push(data.cmp_api_cookie_table_headers[i].name);
  }
}

const locales = data.locales;

// setup wrapper config
setInWindow('cc_wrapper_config', {
  plugin_options: pluginOptions,
  auto_clear_options: autoClearOptions,

  consent_modal_options: {
    layout: data.consent_modal_layout,
    position: data.consent_modal_position,
    transition: data.consent_modal_transition,
    primary_button_role: data.consent_modal_primary_button_role,
    secondary_button_role: data.consent_modal_secondary_button_role,
    swap_buttons: 'secondary_primary' === data.consent_modal_buttons_order,
    show_third_button: data.consent_modal_show_third_button
  },

  settings_modal_options: {
    layout: data.settings_modal_layout,
    position: data.settings_modal_position,
    transition: data.settings_modal_transition,
    modal_trigger_selector: data.modal_trigger_selector || undefined
  },

  ui_options: {
    include_default_stylesheets: data.include_default_stylesheets,
    external_stylesheets: data.external_stylesheets || [],
    internal_stylesheets: data.hasOwnProperty('internal_stylesheets') ? [data.internal_stylesheets] : []
  },

  user_options: {
    identity: 'default' !== data.user_identity ? data.user_identity : null,
    attributes: userAttributes
  },

  cmp_api_options: {
    url: data.cmp_api_enabled ? data.cmp_api_host : null,
    project: data.cmp_api_enabled && data.cmp_api_project ? data.cmp_api_project : null,
    version: data.cmp_api_enabled ? data.cmp_api_version : 1,
    environment: data.cmp_api_enabled ? (data.cmp_api_default_environment ? 'default' : data.cmp_api_environment_code) : null,
    consent_api_enabled: data.cmp_api_enabled ? data.cmp_api_consent_api_enabled : false,
    cookies_api_enabled: data.cmp_api_enabled ? data.cmp_api_cookies_api_enabled : false,
    cookie_table_headers: cookieTableHeaders
  },

  storage_pool: Object.values(storagePool),
  event_triggers: Object.values(eventTriggers),
  locales: data.locales,
  translations: translations
}, true);

// inject cookie consent wrapper
const packageVersion = 'latest' === data.package_version ? '' : '@' + data.package_version;
const cookieConsentWrapperScript = data.cc_script_url ? data.cc_script_url : 'https://unpkg.com/68publishers-cookie-consent' + packageVersion + '/dist/cookie-consent.min.js';

const scriptBaseUrl = 'https://unpkg.com/@68publishers/cookie-consent' + packageVersion + '/dist/';
const cookieConsentWrapperScript = scriptBaseUrl + 'cookie-consent.min.js';

for (let localeKey in locales) {
  let locale = locales[localeKey];
  let localeScript;

  if (0 === locale.lastIndexOf('https://', 0) || 0 === locale.lastIndexOf('http://', 0)) {
    if (-1 === locale.indexOf('.js', locale.length - 3)) {
      continue;
    }

    localeScript = locale;
  } else {
    locale = 2 < locale.length ? locale[0] + locale[1] : locale;
    localeScript = scriptBaseUrl + 'translations/' + locale + '.json.js';
  }

  if (queryPermission('inject_script', localeScript)) {
    injectScript(localeScript, data.gtmOnSuccess, data.gtmOnFailure);
  } else {
    data.gtmOnFailure();
  }
}

if (queryPermission('inject_script', cookieConsentWrapperScript)) {
  injectScript(cookieConsentWrapperScript, function () {
    const events = temporaryWrapper.getEvents();
    let event;
    let eventKey;

    for (eventKey in events) {
      event = events[eventKey];
      callInWindow('CookieConsentWrapper.on', event[0], event[1], event[2]);
    }

    data.gtmOnSuccess();
  }, data.gtmOnFailure);
} else {
  data.gtmOnFailure();
}

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "wait_for_update"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://unpkg.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtag"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "cc_wrapper_config"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "CookieConsentWrapper"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "CookieConsentWrapper.on"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: ''


___NOTES___

Created on 17. 12. 2021 0:22:20


